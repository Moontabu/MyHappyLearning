
行为树的概念：
--

假如我们有一棵树，有根节点，有分支，而且子节点个数可以任意，然后有三个分支，分别是巡逻（Patrol），攻击（Attack），逃跑（Retreat），这个三个分支可以看成是我们为这个士兵定义的三个大的行为（Behavior），当然，如果有更多的行为，我们可以继续在根节点中添加新的分支。当我们要决策当前这个士兵要做什么样的行为的时候，我们就会自顶向下的，通过一些条件来搜索这颗树，最终确定需要做的行为（叶节点），并且执行它，这就是行为树的基本原理。  

我们的三大行为其实并不是真正的决策的结果，它只是一个类型，来帮助我们了解这个分支的一些行为是属于这类的，真正的行为树的行为都是在叶节点上，一般称之为行为节点（也叫做Action Node）  

这些叶节点才是我们真正通过行为树决策出来的结果，这些行为结果，相当于就是一个个定义好的“请求”，比如移动，原地站着，射击等等。所以行为树是一种决策树，来帮助我们搜寻到我们想要的某个行为。

行为节点是游戏相关的，因不同的游戏，我们需要定义不同的行为节点，但对于某个游戏来说，在行为树上行为节点是可以复用的，比如移动，在巡逻的分支上，需要用到，在逃跑分支上，也会用到，这种情况下，我们就可以复用这个节点。行为节点一般分为两种运行状态：

运行中（Executing）：该行为还在处理中  

完成（Completed）：该行为处理完成，成功或者失败  

除了行为节点，其余一般称之为控制节点（Control Node），用树的“学名”的话，就是那些父节点，  

控制节点其实是行为树的精髓所在，我们要搜索一个行为其实就是通过这些控制节点来定义的，从控制节点上，我们就可以看出整个行为树的逻辑走向，所以，行为树的特点之一就是其逻辑的可见性。

我们可以为行为树定义各种各样的控制节点，一般来说，常用的控制节点有以下三种

1.选择（Selector）：选择其子节点的某一个执行  
2.序列（Sequence）：将其所有子节点依次执行，也就是说当前一个返回“完成”状态后，再运行先一个子节点  
3.并行（Parallel）：将其所有子节点都运行一遍  
